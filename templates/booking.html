<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Parking Booking</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='no-glow.css') }}">
  <style>
    :root {
      --neon-yellow: #ffed4e;
      --neon-gold: #ffd700;
      --neon-orange: #ff9500;
      --dark-bg: #0a0e27;
      --card-bg: #151932;
      --card-border: #1e2749;
    }
    
    body {
      display: flex;
      width: auto;
      height: auto; 
      background-position: center;
      background-image: url("https://scontent.fmnl14-1.fna.fbcdn.net/v/t1.15752-9/582154360_696424609854746_4822155147351818655_n.jpg?_nc_cat=105&ccb=1-7&_nc_sid=9f807c&_nc_eui2=AeFOV01goTPXL00yQmknvRNF0gZooNw6dUjSBmig3Dp1SB-eJpUZAgHq-FHwzrNot9zDIQ2cWG2-8Gseef45Msq8&_nc_ohc=pAgzMjRpA84Q7kNvwF49K83&_nc_oc=Admjg-laB73olTK-2fiz68WFe3IMq-woce0a_cH11_d4MNRy-ys86Lm55CPw_ume6iQ&_nc_zt=23&_nc_ht=scontent.fmnl14-1.fna&oh=03_Q7cD3wGNDXx-wG-cdylf2qhjqJY5OX6r80WGc19JmdDih8aZ9Q&oe=6947AD27");
      font-family: 'Rajdhani', sans-serif;
      position: relative;
    }
    
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        repeating-linear-gradient(
          0deg,
          rgba(255, 237, 78, 0.03) 0px,
          transparent 1px,
          transparent 40px,
          rgba(255, 237, 78, 0.03) 41px
        ),
        repeating-linear-gradient(
          90deg,
          rgba(255, 237, 78, 0.03) 0px,
          transparent 1px,
          transparent 40px,
          rgba(255, 237, 78, 0.03) 41px
        );
      pointer-events: none;
      z-index: 0;
    }
    
    h1, h2, h3 {
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 2px;
    }
    
    h1 {
      background: linear-gradient(135deg, var(--neon-yellow), var(--neon-gold));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .booking-card {
      background: rgba(21, 25, 50, 0.95);
      border: 2px solid var(--card-border);
      box-shadow: 
        0 0 30px rgba(255, 237, 78, 0.2),
        0 8px 32px rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
    }
    
    .booking-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(90deg, var(--neon-yellow), var(--neon-gold), var(--neon-orange));
    }
    
    label {
      font-weight: 600;
      color: var(--neon-yellow);
      text-transform: uppercase;
      letter-spacing: 1px;
      font-size: 0.85rem;
    }
    
    input[type="date"],
    input[type="time"] {
      background: rgba(10, 14, 39, 0.8);
      border: 2px solid var(--card-border);
      color: #e0e7ff;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    
    input[type="date"]:focus,
    input[type="time"]:focus {
      border-color: var(--neon-yellow);
      box-shadow: 0 0 20px rgba(255, 237, 78, 0.3);
      outline: none;
    }
    
    .slot {
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      border: 2px solid var(--card-border);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .slot::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 237, 78, 0.3), transparent);
      transition: left 0.5s ease;
    }
    
    .slot:hover::before {
      left: 100%;
    }
    
    .slot.available {
      background: linear-gradient(135deg, #a7f3d0, #6ee7b7);
      border-color: #6ee7b7;
      color: #065f46;
    }
    
    .slot.occupied {
      background: linear-gradient(135deg, #fca5a5, #f87171);
      border-color: #f87171;
      color: #7f1d1d;
    }
    
    .slot.selected {
      background: linear-gradient(135deg, var(--neon-yellow), var(--neon-gold));
      border-color: var(--neon-yellow);
      transform: scale(1.1);
      color: #0a0e27;
    }
    
    .btn-tech {
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    
    .btn-tech::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.5s ease;
    }
    
    .btn-tech:hover::before {
      left: 100%;
    }
    
    .btn-yellow {
      background: linear-gradient(135deg, var(--neon-yellow), var(--neon-gold));
      color: #0a0e27;
      border: 2px solid var(--neon-yellow);
    }
    
    .btn-yellow:hover {
      transform: translateY(-2px);
    }
    
    .btn-orange {
      background: linear-gradient(135deg, var(--neon-orange), #ff7b00);
      color: white;
      border: 2px solid var(--neon-orange);
    }
    
    .btn-orange:hover {
      transform: translateY(-2px);
    }
    
    .btn-dashboard {
      background: rgba(255, 237, 78, 0.1);
      border: 2px solid var(--neon-yellow);
      color: var(--neon-yellow);
      font-weight: 700;
      transition: all 0.3s ease;
    }
    
    .btn-dashboard:hover {
      background: rgba(255, 237, 78, 0.2);
      box-shadow: 0 0 20px rgba(255, 237, 78, 0.4);
      transform: translateY(-2px);
    }
    
    .btn-back {
      background: rgba(255, 149, 0, 0.1);
      border: 2px solid var(--neon-orange);
      color: var(--neon-orange);
      font-weight: 700;
      transition: all 0.3s ease;
    }
    
    .btn-back:hover {
      background: rgba(255, 149, 0, 0.2);
      box-shadow: 0 0 20px rgba(255, 149, 0, 0.4);
      transform: translateY(-2px);
    }
    
    .status-box {
      background: rgba(255, 237, 78, 0.1);
      border: 2px solid rgba(255, 237, 78, 0.3);
      color: var(--neon-yellow);
      box-shadow: 0 0 15px rgba(255, 237, 78, 0.2);
    }
    
    .error-box {
      background: rgba(239, 68, 68, 0.2);
      border: 2px solid rgba(239, 68, 68, 0.5);
      box-shadow: 0 0 15px rgba(239, 68, 68, 0.3);
    }
    
    .feature-card {
      background: rgba(21, 25, 50, 0.9);
      border: 2px solid var(--card-border);
      box-shadow: 0 0 20px rgba(255, 237, 78, 0.1);
      transition: all 0.3s ease;
    }
    
    .feature-card:hover {
      border-color: var(--neon-yellow);
      box-shadow: 0 0 30px rgba(255, 237, 78, 0.3);
      transform: translateY(-5px);
    }
    
    .feature-card h3 {
      color: var(--neon-yellow);
    }
    
    .section-dark {
      background: rgba(10, 14, 39, 0.95);
      backdrop-filter: blur(10px);
    }
    
    .section-darker {
      background: rgba(5, 7, 20, 0.95);
      backdrop-filter: blur(10px);
    }
  </style>
</head>
<body class="bg-gray-900 text-white flex flex-col items-left min-h-screen">
  <form id="bookingForm" method="POST" action="{{ url_for('booking') }}" class="w-full">
    <input type="hidden" name="selected_space" id="selected_space_input">
    <input type="hidden" name="booking_type" id="booking_type_input" value="book">
    <div id="step1" class="flex justify-start py-8 px-4 pl-8 md:pl-16">
      <div class="booking-card p-6 rounded-xl shadow-lg w-full max-w-[400px]">
        <div class="mb-4 text-center">
          <h1 class="text-2xl font-bold">Book Your Parking Space</h1>
        </div>

        {% if error %}
        <div class="mb-4 rounded-lg error-box px-4 py-3 text-sm font-semibold text-white">
          {{ error }}
        </div>
        {% endif %}
        
        <p class="text-center text-sm text-gray-300 mb-2">
          Welcome, <strong class="text-yellow-300">{{ session.get('full_name', 'User') }}</strong>
        </p>

        <div class="text-center mb-3 flex gap-2 justify-center">
          <a href="{{ url_for('user_dashboard') }}" class="inline-block px-4 py-2 btn-dashboard rounded-lg text-sm font-semibold transition-all">
            üìä My Dashboard
          </a>
          <a href="{{ url_for('logout') }}" class="inline-block px-4 py-2 btn-back rounded-lg text-sm font-semibold transition-all">
            ‚Üê Back to Login
          </a>
        </div>

        <p class="text-center mb-2">
          <strong>Location:</strong> Nwssu Calbayog City, Samar, Philippines
        </p>

        <label class="block mb-2" for="entry_date">Entry Date:</label>
        <input type="date" id="entry_date" name="entry_date" class="w-full p-2 rounded text-black mb-4" required>

        <label class="block mb-2" for="entry_time">Entry Time:</label>
        <input type="time" id="entry_time" name="entry_time" class="w-full p-2 rounded text-black mb-4" required>

        <label class="block mb-2" for="exit_date">Exit Date:</label>
        <input type="date" id="exit_date" name="exit_date" class="w-full p-2 rounded text-black mb-4" required>

        <label class="block mb-2" for="exit_time">Exit Time:</label>
        <input type="time" id="exit_time" name="exit_time" class="w-full p-2 rounded text-black mb-4" required>

        <div id="availabilityStatus" class="mb-4 p-3 rounded-lg status-box text-sm text-center font-semibold">
          <span id="statusText">üìÖ Entry time set to current date/time</span>
        </div>

        <!-- Parking slots -->
        <div class="grid grid-cols-5 gap-2 mb-4" id="slotContainer">
          {% for slot in slots %}
          <button
            type="button"
            class="slot p-2 rounded bg-gray-400 text-black"
          >
            {{ slot['slot_name'] }}
          </button>
          {% endfor %}
        </div>
        <div class="flex flex-col gap-2">
          <button type="button" onclick="showStep2()" class="btn-tech btn-orange w-full p-3 rounded-lg font-bold">
            Book Now
          </button>
          <button id="reserveBtn" type="submit" class="btn-tech btn-yellow w-full p-3 rounded-lg font-bold disabled:opacity-60" disabled onclick="document.getElementById('booking_type_input').value='reserve'">
            Reserve Slot
          </button>
        </div>
      </div>
    </div>
    
    <div id="step2" class="hidden w-full">

    <section class="text-center py-10 section-dark">
      <h2 class="text-3xl font-bold mb-4" style="color: var(--neon-yellow);">‚úÖ Your Booking Summary</h2>
      <div class="text-lg leading-8 text-gray-200">
        <p id="chosenSlot" class="text-xl font-bold" style="color: var(--neon-yellow);"></p>
        <p id="summaryEntry"></p>
        <p id="summaryExit"></p>
      </div>
      <div class="flex justify-center gap-4 mt-6">
        <button type="button" onclick="backToStep1()" class="btn-tech px-6 py-3 rounded-md bg-gray-700 hover:bg-gray-600 border-2 border-gray-600">Edit Details</button>
        <button type="submit" class="btn-tech btn-yellow px-6 py-3 rounded-md font-semibold">Confirm Booking</button>
      </div>
    </section>


    <section class="py-16 section-dark">
      <div class="max-w-5xl mx-auto px-6">
        <div class="grid gap-6 md:grid-cols-3">
          <div class="feature-card rounded-2xl p-6 shadow-lg">
            <div class="flex items-center justify-between mb-4">
              <span class="text-4xl">‚è∞</span>
              <span class="text-xs uppercase tracking-widest" style="color: var(--neon-yellow);">Real-Time</span>
            </div>
            <h3 class="font-bold text-xl mb-2">Book in Advance</h3>
            <p class="text-sm text-gray-300">
              Reserve your parking slot ahead of time with specific entry and exit times. No more searching for available spots when you arrive.
            </p>
            <div class="mt-4 rounded-xl px-4 py-3 text-sm" style="background: rgba(255, 237, 78, 0.1); border: 1px solid rgba(255, 237, 78, 0.2);">
              Available slots: <span class="font-semibold" style="color: var(--neon-yellow);">P01 - P10</span>
            </div>
          </div>
          <div class="feature-card rounded-2xl p-6 shadow-lg">
            <div class="flex items-center justify-between mb-4">
              <span class="text-4xl">üì±</span>
              <span class="text-xs uppercase tracking-widest" style="color: var(--neon-yellow);">Dashboard</span>
            </div>
            <h3 class="font-bold text-xl mb-2">Track Your Bookings</h3>
            <p class="text-sm text-gray-300">
              View all your active, upcoming, and past bookings in one place. Manage your parking history and see booking details anytime.
            </p>
            <div class="mt-4 flex items-center gap-3">
              <span class="h-3 w-3 rounded-full bg-green-400"></span><span class="text-xs text-gray-400">Active</span>
              <span class="h-3 w-3 rounded-full" style="background: var(--neon-yellow);"></span><span class="text-xs text-gray-400">Upcoming</span>
              <span class="h-3 w-3 rounded-full bg-gray-500"></span><span class="text-xs text-gray-400">Completed</span>
            </div>
          </div>
          <div class="feature-card rounded-2xl p-6 shadow-lg">
            <div class="flex items-center justify-between mb-4">
              <span class="text-4xl">üîí</span>
              <span class="text-xs uppercase tracking-widest" style="color: var(--neon-yellow);">Secure</span>
            </div>
            <h3 class="font-bold text-xl mb-2">Conflict Prevention</h3>
            <p class="text-sm text-gray-300">
              Smart booking system prevents double bookings and time conflicts. Each slot is reserved exclusively for your scheduled time period.
            </p>
            <div class="mt-4">
              <div class="flex justify-between text-xs text-gray-400">
                <span>System Reliability</span><span>99.9%</span>
              </div>
              <div class="w-full h-2 rounded-full mt-1" style="background: rgba(255, 237, 78, 0.1);">
                <div class="h-2 rounded-full" style="width: 99.9%; background: linear-gradient(90deg, var(--neon-yellow), var(--neon-gold));"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>


    <section class="flex flex-col md:flex-row items-center justify-center gap-10 py-16 px-6 section-darker">
      <div class="max-w-xl w-full">
        <h2 class="text-2xl font-bold mb-4" style="color: var(--neon-yellow);">IT PARKING MAP</h2>
        <div class="rounded-2xl overflow-hidden shadow-2xl border border-gray-700 relative inline-block">
          <img
            src="https://scontent.fmnl14-1.fna.fbcdn.net/v/t1.15752-9/582154360_696424609854746_4822155147351818655_n.jpg?_nc_cat=105&ccb=1-7&_nc_sid=9f807c&_nc_eui2=AeFOV01goTPXL00yQmknvRNF0gZooNw6dUjSBmig3Dp1SB-eJpUZAgHq-FHwzrNot9zDIQ2cWG2-8Gseef45Msq8&_nc_ohc=pAgzMjRpA84Q7kNvwF49K83&_nc_oc=Admjg-laB73olTK-2fiz68WFe3IMq-woce0a_cH11_d4MNRy-ys86Lm55CPw_ume6iQ&_nc_zt=23&_nc_ht=scontent.fmnl14-1.fna&oh=03_Q7cD3wGNDXx-wG-cdylf2qhjqJY5OX6r80WGc19JmdDih8aZ9Q&oe=6947AD27"
            alt="Parking map"
            usemap="#it-parking-map"
            width="640"
            height="360"
          >

          
          <map name="it-parking-map">
            <area shape="rect" coords="20,220,150,350" href="#bookingForm" title="Row A - Compact Slots">
            <area shape="rect" coords="175,220,305,350" href="#bookingForm" title="Row B - Standard Slots">
            <area shape="rect" coords="330,220,460,350" href="#bookingForm" title="Row C - Faculty Slots">
            <area shape="rect" coords="485,220,615,350" href="#bookingForm" title="Row D - Accessible Slots">
          </map>
        </div>
      </div>
      <div class="max-w-md text-gray-300">
        <p class="text-lg font-semibold mb-4">Tap a highlighted row to jump back to booking and select your slot.</p>
        <p class="mb-4">
          Managing parking zones through an image map helps students visualize availability before submitting the form.
          Each zone reflects its real-life placement inside the CCIS building lot, reducing confusion during busy hours.
        </p>
        <p>
          Accessibility in parking spaces means designing and reserving spots so people with disabilities can park safely,
          move comfortably, and access nearby facilities without difficulty.
        </p>
      </div>
    </section>

    <section class="py-16 section-dark text-center">
      <h2 class="text-3xl font-bold mb-6 tracking-wide" style="color: var(--neon-yellow);">Parking Features</h2>
      <p class="text-gray-300 max-w-3xl mx-auto mb-10">
        Designed to keep the campus queue-free. Discover what makes the CCIS parking space system organized,
        accessible and safe for students, faculty and visitors.
      </p>
      <div class="grid gap-6 px-6 md:grid-cols-3">
        <div class="feature-card p-6 rounded-2xl shadow-lg">
          <div class="text-4xl mb-3">üÖø</div>
          <h3 class="font-bold text-xl mb-2">Smart Parking Spaces</h3>
          <p class="text-sm text-gray-300">
            Clear markings for slots for vehicles (cars, motorcycles, bicycles, oversized vehicles). Includes standard, compact, reserved, and accessible spaces.
          </p>
        </div>
        <div class="feature-card p-6 rounded-2xl shadow-lg">
          <div class="text-4xl mb-3">‚ôø</div>
          <h3 class="font-bold text-xl mb-2">Accessibility Ready</h3>
          <p class="text-sm text-gray-300">
            Wider aisles, tactile pathways, optimized lighting and clear signage so every rider can reach their slot safely.
          </p>
        </div>
        <div class="feature-card p-6 rounded-2xl shadow-lg">
          <div class="text-4xl mb-3">üõ°Ô∏è</div>
          <h3 class="font-bold text-xl mb-2">Safety Features</h3>
          <p class="text-sm text-gray-300">
            Adequate lighting, speed bumps, security cameras, and emergency exits for safe parking experience.
          </p>
        </div>
      </div>
    </section>


    <!-- Contact -->
    <section class="py-16 text-center section-darker">
      <h2 class="text-2xl font-bold mb-6" style="color: var(--neon-yellow);">Contact Us</h2>
      <p class="text-gray-300"><strong style="color: var(--neon-yellow);">PHONE:</strong> 09058366892</p>
      <p class="text-gray-300"><strong style="color: var(--neon-yellow);">EMAIL:</strong> juanbonifacio@gmail.com</p>
      <div class="flex justify-center gap-6 mt-6">
        <a href="#" class="text-xl transition-all hover:scale-125">üåê</a>
        <a href="#" class="text-xl transition-all hover:scale-125">üê¶</a>
        <a href="#" class="text-xl transition-all hover:scale-125">üì∑</a>
      </div>
    </section>
  </div>
  </form>
  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>

